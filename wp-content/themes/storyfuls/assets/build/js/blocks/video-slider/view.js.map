{"version":3,"file":"js/blocks/video-slider/view.js","mappings":"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","sources":["webpack://storyful/./src/js/blocks/video-slider/view.js"],"sourcesContent":["\n(function ($) {\n  \"use strict\";\n\n  const slideWrapper = $(\".video-section .wrapper-video-section\");\n\n  function postMessageToPlayer(player, command) {\n    if (player == null || command == null) return;\n    player.contentWindow.postMessage(JSON.stringify(command), \"*\");\n  }\n\n  // When the slide is changing\n  function playPauseVideo(slick, control) {\n    let currentSlide, player;\n\n    currentSlide = slick.find(\".slick-current\");\n    player = currentSlide.find(\"iframe\").get(0);\n\n    switch (control) {\n      case \"play\":\n        postMessageToPlayer(player, {\n          event: \"command\",\n          func: \"mute\",\n        });\n        postMessageToPlayer(player, {\n          event: \"command\",\n          func: \"playVideo\",\n        });\n        break;\n      case \"pause\":\n        postMessageToPlayer(player, {\n          event: \"command\",\n          func: \"pauseVideo\",\n        });\n        break;\n    }\n  }\n\n  \n  function videoSlider() {\n    \n    slideWrapper.on(\"init\", function (slick) {\n      slick = $(slick.currentTarget);\n      setTimeout(function () {\n        playPauseVideo(slick, \"play\");\n      }, 1000);\n      const media = $(\n        \".video-section .wrapper-video-section .video-wrapped video\"\n      );\n      media.trigger(\"pause\");\n      const mediaPlay = $(\n        \".video-section .wrapper-video-section .video-wrapped.slick-center video\"\n      );\n      mediaPlay.trigger(\"play\");\n    });\n    slideWrapper.on(\"beforeChange\", function (event, slick) {\n      slick = $(slick.$slider);\n      playPauseVideo(slick, \"pause\");\n    });\n    slideWrapper.on(\"afterChange\", function (event, slick) {\n      slick = $(slick.$slider);\n      playPauseVideo(slick, \"play\");\n      const media = $(\n        \".video-section .wrapper-video-section .video-wrapped video\"\n      );\n      media.trigger(\"pause\");\n      if (\n        $(\n          \".video-section .wrapper-video-section .video-wrapped.slick-center video\"\n        ).length !== 0\n      ) {\n        const mediaPlay = $(\n          \".video-section .wrapper-video-section .video-wrapped.slick-center video\"\n        );\n        mediaPlay.trigger(\"play\");\n      }\n      \n    });\n\n    const autoplay = $(\".video-section\").attr(\"data-slide-autoplay\"),\n      arrows = $(\".video-section\").attr(\"data-slide-arrows\"),\n      dots = $(\".video-section\").attr(\"data-slide-dots\");\n\n    //start the slider\n    slideWrapper.not(\".slick-initialized\").slick({\n      centerMode: true,\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      focusOnSelect: true,\n      autoplay: \"true\" == autoplay ? true : false,\n      arrows: \"true\" == arrows ? true : false,\n      dots: \"true\" == dots ? true : false,\n      infinite: true,\n      responsive: [\n        {\n          breakpoint: 1400,\n          settings: {\n            centerPadding: \"300px\",\n          },\n        },\n        {\n          breakpoint: 1200,\n          settings: {\n            centerPadding: \"250px\",\n          },\n        },\n        {\n          breakpoint: 1000,\n          settings: {\n            centerPadding: \"150px\",\n          },\n        },\n        {\n          breakpoint: 990,\n          settings: {\n            centerPadding: \"50px\",\n          },\n        },\n        {\n          breakpoint: 767,\n          settings: {\n            centerPadding: \"15px\",\n          },\n        },\n      ],\n    });\n  }\n\n  if ($(\".video-section\").length !== 0) {\n    videoSlider();\n    $(window).on(\"resize\", function () {\n      videoSlider();\n    });\n  }\n  \n})(jQuery);\n\n"],"names":["$","slideWrapper","postMessageToPlayer","player","command","contentWindow","postMessage","JSON","stringify","playPauseVideo","slick","control","currentSlide","find","get","event","func","videoSlider","on","currentTarget","setTimeout","media","trigger","mediaPlay","$slider","length","autoplay","attr","arrows","dots","not","centerMode","slidesToShow","slidesToScroll","focusOnSelect","infinite","responsive","breakpoint","settings","centerPadding","window","jQuery"],"sourceRoot":""}